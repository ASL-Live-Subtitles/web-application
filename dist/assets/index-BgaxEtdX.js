(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function l(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=l(e);fetch(e.href,n)}})();const p="https://composite1-592550011076.us-central1.run.app/asl-pipeline";async function f(o){const t=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!t.ok)throw new Error(`HTTP ${t.status}: ${await t.text()}`);return t.json()}function u(o){return o.split(",").map(t=>t.trim()).filter(t=>t.length>0)}document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("asl-form"),t=document.getElementById("glosses-input"),l=document.getElementById("letters-input"),r=document.getElementById("context-input"),e=document.getElementById("error"),n=document.getElementById("result"),s=document.getElementById("sentence"),d=document.getElementById("sentiment"),i=document.getElementById("submit-button");o.addEventListener("submit",async a=>{a.preventDefault(),e.style.display="none",n.style.display="none";const m={glosses:u(t.value),letters:u(l.value),context:r.value.trim()};i.disabled=!0,i.textContent="Processing...";try{const c=await f(m);s.textContent=c.sentence,d.textContent=c.sentiment.sentiment,n.style.display="block"}catch(c){e.textContent=c.message||"Unknown error",e.style.display="block"}finally{i.disabled=!1,i.textContent="Submit"}})});
